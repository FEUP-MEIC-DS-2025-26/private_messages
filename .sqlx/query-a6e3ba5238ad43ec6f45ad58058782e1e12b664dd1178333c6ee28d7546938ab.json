{
  "db_name": "SQLite",
  "query": "CREATE TABLE IF NOT EXISTS user (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    username TEXT UNIQUE,\n    name TEXT\n);\n\nCREATE TABLE IF NOT EXISTS conversation (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    sender_id INTEGER NOT NULL,\n    receiver_id INTEGER NOT NULL,\n    last_message_id INTEGER,\n    unread_for_sender INTEGER,\n    unread_for_receiver INTEGER,\n    FOREIGN KEY(sender_id) REFERENCES user(id),\n    FOREIGN KEY(receiver_id) REFERENCES user(id),\n    FOREIGN KEY(last_message_id) REFERENCES message(id)\n);\n\nCREATE TABLE IF NOT EXISTS message (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    sender_id INTEGER NOT NULL,\n    conversation_id INTEGER NOT NULL,\n    content BLOB,\n    previous_message_id INTEGER,\n    FOREIGN KEY(sender_id) REFERENCES user(id),\n    FOREIGN KEY(conversation_id) REFERENCES conversation(id),\n    FOREIGN KEY(previous_message_id) REFERENCES message(id)\n);\n",
  "describe": {
    "columns": [],
    "parameters": {
      "Right": 0
    },
    "nullable": []
  },
  "hash": "a6e3ba5238ad43ec6f45ad58058782e1e12b664dd1178333c6ee28d7546938ab"
}
