syntax = "proto3";
package priv_msgs.v1;

message PrivateMessageSchema {
  oneof contents {
    NewMessage new_message = 1;
    NewConversation new_conversation = 2;
  }
  
  /// User messages
  message NewMessage {
    /// UID for this msg
    int64 uid = 1;
   
    /// `JumpSeller` ID of the sender
    int64 sender_id = 2;
    /// `JumpSeller` ID of the receiver
    int64 receiver_id = 3;

    /// `JumpSeller` Id for the product
    int64 product_info = 4;

    /// UTC Timestamp when message was sent
    string timestamp = 5;

    /// Small preview (if necessary) 
    optional string preview = 6;
  }

  /// Conversations being created
  message NewConversation {
    /// UID for this broadcast
    int64 uid = 1;

    /// `JumpSeller` ID of the seller
    int64 seller_id = 2;
    /// `JumpSeller` ID of the buyer
    int64 buyer_id = 3;
  
    /// `JumpSeller` Id for the product
    int64 product_info = 4;
  }  
}


